{% extends 'base.html' %}{% block conteudo %}
<div class="container mt-3">
  <div class="d-flex justify-content-between align-items-center">
    <h4>Lançamentos</h4>
    <div>
      <a href="{{ url_for('financeiro.dashboard_fin') }}" class="btn btn-outline-secondary me-2"><i class="fas fa-arrow-left"></i> Voltar</a>
      <a href="{{ url_for('financeiro.novo_lanc') }}" class="btn btn-success">Novo</a>
    </div>
  </div>
  <table class="table table-bordered table-sm mt-2">
    <thead class="table-light"><tr>
      <th>Data</th><th>Tipo</th><th>Descrição</th><th>Conta</th><th>Categoria</th><th>Valor Líquido</th><th>Status</th><th>Ações</th>
    </tr></thead>
    <tbody>
      {% for l in itens %}
      <tr>
        <td>{{ l.data.strftime('%d/%m/%Y') }}</td>
        <td>{{ l.tipo }}</td>
        <td>{{ l.descricao or '-' }}</td>
        <td>{{ l.conta.nome }}</td>
        <td>{{ l.categoria.nome }}</td>
        <td>R$ {{ '%.2f'|format(l.valor_liquido) }}</td>
        <td>{{ l.status }}</td>
        <td>
          <form method="post" action="{{ url_for('financeiro.excluir_lanc', id=l.id) }}" onsubmit="return confirm('Excluir?');">
            <button class="btn btn-sm btn-danger">Excluir</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
